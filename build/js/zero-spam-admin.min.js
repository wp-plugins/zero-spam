function closeForms(){jQuery(".zero-spam__row-highlight").remove(),jQuery("tr").removeClass("zero-spam__loading"),jQuery("tr").removeClass("zero-spam__loaded")}function clearLog(){!0===confirm("This will PERMANENTLY delete all data in the spammer log. This action cannot be undone. Are you sure you want to continue?")&&jQuery.post(ajaxurl,{action:"reset_log",security:zero_spam_admin.nonce},function(){location.reload()})}function updateRow(a){a&&jQuery.post(ajaxurl,{action:"get_blocked_ip",security:zero_spam_admin.nonce,ip:a},function(a){var b,c=jQuery.parseJSON(a),d=jQuery("tr[data-ip='"+c.ip+"']");b=!0===c.is_blocked?'<span class="zero-spam__label zero-spam__bg--primary">Blocked</span>':'<span class="zero-spam__label zero-spam__bg--trinary">Unblocked</span>',jQuery(".zero-spam__reason",d).text(c.reason),jQuery(".zero-spam__start-date",d).text(c.start_date_txt),jQuery(".zero-spam__end-date",d).text(c.end_date_txt),jQuery(".zero-spam__status",d).html(b)})}jQuery(document).ready(function(a){a.each(a("[data-ip-location]"),function(){var b=a(this),c=a(this).data("ip-location");jQuery.post(ajaxurl,{action:"get_location",security:zero_spam_admin.nonce,ip:c},function(c){var d=a.parseJSON(c),e="";d&&(d.country_name&&(e+=d.country_code),d.region_name&&(e.length&&(e+=", "),e+=d.region_name),d.city&&(e.length&&(e+=", "),e+=d.city),d.country_code&&(e='<span class="country-flag country-flags-'+d.country_code.toLowerCase()+'"></span> '+e)),e.length||(e='<div class="zero-spam__text-center"><i class="fa fa-exclamation-triangle"></i></div>'),b.html(e)})}),a(".zero-spam__block-ip, .zero-spam__trash").click(function(b){b.preventDefault(),closeForms();var c=a(this).closest("tr"),d=a("<tr class='zero-spam__row-highlight'>"),e=a(this),f=(e.parent(),e.data("ip")),g="";c.addClass("zero-spam__loading"),g=e.hasClass("zero-spam__trash")?"trash_ip_block":"block_ip_form",a.post(ajaxurl,{action:g,security:zero_spam_admin.nonce,ip:f},function(b){c.removeClass("zero-spam__loading"),e.hasClass("zero-spam__trash")?(g="trash_ip_block",c.fadeOut(function(){c.remove(),0===a(".zero-spam__table tbody tr").length&&(a("#zerospam-id-container").after("No blocked IPs found."),a("#zerospam-id-container").remove())})):(g="block_ip_form",c.addClass("zero-spam__loaded"),d.append("<td colspan='10'>"+b+"</td>"),c.before(d))})})});